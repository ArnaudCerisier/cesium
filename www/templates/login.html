<ion-modal-view>
  <ion-header-bar class="bar-positive">
    <button class="button button-positive" ng-click="closeLogin()" translate>COMMON.BTN_CANCEL
    </button>
    <h1 class="title" translate>LOGIN.TITLE</h1>
    <button class="button button-positive" ng-click="doLogin()" translate>COMMON.BTN_OK
    </button>
  </ion-header-bar>

  <ion-content scroll="false">
    <form ng-submit="doLogin()">
      <div class="list">
        <label class="item item-input item-floating-label">
          <span class="input-label" translate>LOGIN.USERNAME</span>
          <input type="text" placeholder="{{'LOGIN.USERNAME_HELP' | translate}}" ng-model="loginData.username" ng-change="loginDataChanged()">
        </label>
        <label class="item item-input item-floating-label">
          <span class="input-label" translate>LOGIN.PASSWORD</span>
          <input type="password" placeholder="{{'LOGIN.PASSWORD_HELP' | translate}}" ng-model="loginData.password" ng-change="loginDataChanged()">
        </label>
        <div class="item item-icon-left item-button-right">
          <i class="icon ion-key"/>
          <span translate>COMMON.PUBKEY</span>
          <a class="button button-light button-small" ng-click="showLoginPubkey()" ng-if="!(loginData.pubkey || loginData.computing || !loginData.username || !loginData.password)"
          class="animate-if">
            {{'COMMON.BTN_SHOW' | translate}}
            </a>            
          </label>

          <span class="badge badge-energized" ng-if="loginData.pubkey">
            {{loginData.pubkey | formatPubkey}}
          </span>
        </div>
      </div>
      <div class="padding">
        <button class="button button-block button-positive" type="submit">
          {{'COMMON.BTN_OK' | translate}}
        </button>
      </div>
    </form>
  </ion-content>
</ion-modal-view>
